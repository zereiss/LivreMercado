<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Livre Mercado</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <script defer src="script.js" ></script>

</head>

<body>
    <header>
        <div class="header-container">
        
            <div class="logo">
                <a href="vendas.html">
                    <i class="fa-solid fa-shop">
                        Livre Mercado
                    </i>
                </a>



            </div>

           
            <nav class="navegador">
                <a href="vendas.html">Home</a>
                <a href="cadastro.html">Cadastro</a>
                <a href="login.html">Login</a>

            </nav>
        </div>
    </header>
    <div class="container">
        <div class="signup-box">
        <div class="signup-box">
            <h2>Cadastro</h2>
            <form action="#" method="POST">
                <input type="username" class="input-field" placeholder="Nome Completo" id="username">
                <input type="email" class="input-field" placeholder="Email" id="email">
                <input type="senha" class="input-field" placeholder="Senha" id="senha">
                <input type="confirmarsenha" class="input-field" placeholder="confirmarsenha" id="confirmarsenha">
                <button type="submit" onclick="cadastrar(); return false" class="botaodecadastro"> <a href="vendas.html">Cadastre-se</a></button>
               
                
                <br>
                <br>
            </form>

            <script> 

                
const username = document.getElementById("username");
const email = document.getElementsById("email");
const senha= document.getElementsById("senha");
const confirmarsenha = document.getElementById("confirmarsenha");

function cadastrar(){

    username.value
    email.value
    senha.value
    confirmarsenha.value

    function checkInputUsername(){
        const usernameValue = username.value;
      
        if(usernameValue === ""){
          errorInput(username, "Preencha um username!")
        }else{
          const formItem = username.parentElement;
          formItem.className = "form-content"
        }
      
      }
      
      function checkInputEmail(){
        const emailValue = email.value;
      
        if(emailValue === ""){
          errorInput(email, "O email é obrigatório.")
        }else{
          const formItem = email.parentElement;
          formItem.className = "form-content"
        }
      
      
      }
      
      
      function checkInputPassword(){
        const passwordValue = password.value;
      
        if(passwordValue === ""){
          errorInput(password, "A senha é obrigatória.")
        }else if(passwordValue.length < 8){
          errorInput(password, "A senha precisa ter no mínimo 8 caracteres.")
        }else{
          const formItem = password.parentElement;
          formItem.className = "form-content"
        }
      
      
      }
      
      
      function checkInputPasswordConfirmation(){
        const passwordValue = password.value;
        const confirmationPasswordValue = passwordConfirmation.value;
      
        if(confirmationPasswordValue === ""){
          errorInput(passwordConfirmation, "A confirmação de senha é obrigatória.")
        }else if(confirmationPasswordValue !== passwordValue){
          errorInput(passwordConfirmation, "As senhas não são iguais.")
        }else{
          const formItem = passwordConfirmation.parentElement;
          formItem.className = "form-content"
        }
      
      
      }
      
      
      function checkForm(){
        checkInputUsername();
        checkInputEmail();
        checkInputPassword();
        checkInputPasswordConfirmation();
      
        const formItems = form.querySelectorAll(".form-content")
      
        const isValid = [...formItems].every( (item) => {
          return item.className === "form-content"
        });
      
        if(isValid){
          alert("CADASTRADO COM SUCESSO!")
        }
      
      }
      
      
      function errorInput(input, message){
        const formItem = input.parentElement;
        const textMessage = formItem.querySelector("a")
      
        textMessage.innerText = message;
      
        formItem.className = "form-content error"
      
      }

}



    

            </script>
        
    


</body>

</html>